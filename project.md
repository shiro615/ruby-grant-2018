# 開発テーマ

- Ruby開発支援ツール（デバッガ、プロファイラ、静的コード解析ツール等）

# プロジェクト名

- gobject-introspection gemのLLVM対応

# プロジェクトの詳細

GObject IntrospectionのRubyバインディングであるgobject-introspection gemの機能拡充を行います。
GObject IntrospectionはCで実装されたライブラリーの言語バインディングを簡単に実装できるようにするライブラリーです。

gobject-introspection gemのメリットは次の3点です。

- RubyっぽいAPIを自動生成できる
  - SWIGはC++ならできる（ことがある）
  - SWIGはCでもユーザーが設定ファイルを頑張って書けばできるが、ライブラリー毎に作らないといけない
  - libffi/Fiddleは自動生成できない
  - 手書きは自動生成できない
- Ruby以外の言語バインディングも自動生成できる
  - SWIGもできる
  - 他の言語の開発者とも協力できる
- 実行時に言語バインディングを自動生成できる
  - SWIGはできない
  - ライブラリーを更新しても言語バインディングを更新する必要はない

ただし、パフォーマンス面で課題があるのでこのプロジェクトではそれを解決し手書きのバインディングと同等の速度でバインド対象の関数を呼び出せることを目指します。

### 現在の課題

GObject Introspectionを使ったバインディング開発には以下の課題があります。

- 手書きより遅い
- オーバーヘッドがある
  - 動的な引数の変換
  - libffiを使った関数呼び出し

### 改善案

- RubyのGObject Introspectionのレイヤーで、LLVMのAPIを使う
- GObject IntrospectionのFFIの機能を使わずに直接バインド対象の関数を呼び出す

この機能拡充により手書きと同じくらいの高速な実装になることを目指します。

# プロジェクトの成果物

- 手書きと同じ速さで自動生成のバインディングを実装できるようにする
- 手書きとGObject Introspectionのパフォーマンスを比較した計測結果を用意する
